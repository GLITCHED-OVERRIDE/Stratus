@import "https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Rajdhani:wght@500;700&display=swap";

:root{
  --bg-deep:#05030a;
  --ui-gold:#f7c96f;
  --ui-font:"Rajdhani",sans-serif;
  --pixel-font:"Press Start 2P",cursive;
  --neon-pink:#ff4b9f;
  --ui-scale:1vmin;
  --font-h1:clamp(3.2rem,16vw,6.5rem);
  --font-btn:clamp(1rem,3.5vmin,1.8rem)
}

/* ================= BASE ================= */

body{
  margin:0;
  padding:0;
  background-color:var(--bg-deep);
  overflow:hidden;
  touch-action:none;
  font-family:var(--ui-font);
  color:#fff;
  user-select:none;
  -webkit-user-select:none
}

#game-container{
  position:relative;
  width:100vw;
  height:100vh;
  height:100svh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#000;
  overflow:hidden
}

@supports (height:100dvh){
  #game-container{height:100dvh}
}

/* ================= AMBIENT ================= */

#ambient-bg{
  position:absolute;
  inset:0;
  z-index:0;
  pointer-events:none;
  background-size:cover;
  background-position:center;
  filter:blur(20px) brightness(.75) saturate(1.2);
  transform:scale(1.45);
  transition:background-image .5s ease-in-out
}

#ambient-overlay{
  position:absolute;
  inset:0;
  z-index:1;
  pointer-events:none;
  background:#fff;
  opacity:0;
  transition:opacity .1s linear
}

#game-container:has(.menu-screen:not(.hidden)) #ambient-bg{
  filter:blur(20px) brightness(.2) saturate(.5)
}

/* ================= GAME ================= */

.game-aspect-container{
  position:relative;
  overflow:hidden;
  box-shadow:0 0 100px #000c;
  background:transparent;
  --hud-scale:1
}

.game-aspect-container>*{pointer-events:auto}

canvas{
  image-rendering:pixelated;
  display:block;
  background:#000;
  width:100%;
  height:100%;
  z-index:5
}

.ui-layer{
  position:absolute;
  inset:0;
  z-index:20;
  pointer-events:none
}

/* ================= HUD ================= */

#hud{
  position:absolute;
  inset:0;
  pointer-events:none
}

.hud-group{
  position:absolute;
  top:3%;
  min-width:calc(7rem * var(--hud-scale));
  max-width:30%;
  display:flex;
  flex-direction:column;
  gap:calc(2px * var(--hud-scale));
  background:#00000059;
  padding:calc(.7rem * var(--hud-scale)) calc(.9rem * var(--hud-scale));
  border-radius:calc(12px * var(--hud-scale));
  border:1px solid rgba(247,201,111,.7);
  backdrop-filter:blur(6px)
}

#blocksGroup{
  left:3%;
  text-align:left;
  align-items:flex-start
}

#heightGroup{
  left:50%;
  transform:translateX(-50%);
  text-align:center;
  align-items:center
}

/* ================= MENU ================= */

.menu-screen{
  position:absolute;
  inset:0;
  background:#05030aeb;
  backdrop-filter:blur(5px);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:100
}

.menu-panel{
  width:clamp(300px,90vw,640px);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:22px;
  padding:36px
}

/* ================= TITLE ================= */

@keyframes pulseTitle{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.08)}
}

h1{
  font-family:var(--pixel-font);
  font-size:var(--font-h1);
  text-align:center;
  line-height:1.05;
  color:#fff;
  text-shadow:4px 4px 0 var(--neon-pink);
  margin-bottom:2vh;
  width:100%;
  animation:pulseTitle 2s infinite ease-in-out
}

.menu-title{
  font-family:var(--pixel-font);
  text-align:center;
  margin:0
}

.menu-title--main{
  position:relative
}

/* ===== PORTED BY GLITCH (BIG + PULSING WITH TITLE) ===== */

.menu-title--main::after{
  content:"Ported By Glitch";
  display:block;
  margin-top:0.9rem;
  font-family:var(--pixel-font);
  font-size:clamp(1.2rem,3.6vmin,2rem);
  color:#ff2a2a;
  text-align:center;
  text-shadow:2px 2px 0 #000
}

/* ================= TEXT ================= */

.menu-subtitle{
  margin:0;
  text-align:center;
  color:#fff
}

/* ================= BUTTONS ================= */

.btn{
  background:transparent;
  border:3px solid var(--ui-gold);
  color:#fff;
  padding:1.5vh 3vw;
  font-family:var(--ui-font);
  font-size:var(--font-btn);
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:2px;
  cursor:pointer;
  box-shadow:0 0 15px #f7c96f4d;
  transition:all .1s
}

.btn:hover{
  background:var(--ui-gold);
  color:#05030a;
  box-shadow:0 0 25px var(--ui-gold);
  transform:translateY(-2px)
}

.hidden{display:none!important}
